<section data-ng-controller="CustomersController" data-ng-init="find()">
    <div class="page-header">
        <h1>Customers</h1>
    </div>

    <div class="row">
        <div class="col-xs-12 col-sm-8 col-md-6 cust-col">
            <div class="input-group">
                <input type="text" class="form-control" ng-model="search" placeholder="Search customers..." />
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">Go!</button>
                </span>
            </div>
        </div>
    </div>

    <div class="list-group">
        <div class="row">
            <div class="col-sm-4 cust-col" data-ng-repeat="customer in customers | filter:search">
                <a data-ng-href="#!/customers/{{customer._id}}" class="list-group-item">

                    <h4 class="cust-list text-center">
                        <i class="glyphicon glyphicon-user" ng-class="customer.referred ? 'text-info' : 'text-danger'"></i>
                    </h4>

                    <div class="row">
                        <div class="col-xs-10 col-xs-offset-1">
                            <h4>{{ customer.firstName }} {{ customer.lastName }}</h4>

                            <small class="list-group-item-text">
                                Posted on
                                <span data-ng-bind="customer.created | date:'medium'"></span>
                                by
                                <span data-ng-bind="customer.user.displayName"></span>
                            </small>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="alert alert-warning text-center" data-ng-hide="!customers.$resolved || customers.length">
    	No Customers yet, why don't you <a href="/#!/customers/create">create one</a>?
    </div>
</section>